@model PsebJunior.Models.RegistrationModels
@{
    ViewBag.Title = "RoughReportJunior";
    Layout = "~/Views/Shared/_Card_Header.cshtml";
}
<script>
    function myFunction() {
        window.print();
    }
</script>
<link rel="stylesheet" href="/Content/Print-4L.css" />
<h1 class="noprint">Rough Report : Session  2023-2024</h1>
@using (Html.BeginForm("RoughReportJunior", "RegistrationPortal", FormMethod.Post, new { id = "searchform" }))
{   
            <div class="row">
                <div class="col-md-12 noprint">
                    <fieldset style="margin-bottom:15px">
                        <legend>Search</legend>
                        <div class="col-md-3">
                            Search By:  @Html.DropDownList("SelList", new SelectList(ViewBag.MySch, "Value", "Text", ViewBag.SelectedItem), "--Select---", new { @class = "", id = "SelectItem" })
                            <span id="reqsession" style="color:red;display:none;">Select One</span>
                        </div>
                        <div class="col-md-7">
                            &nbsp;<br />
                            <input type="text" id="SearchString" name="SearchString" value="@Request["SearchString"]" />
                        </div>
                        <div class="col-md-2">
                            &nbsp;<br /><input type="submit" value="Search" name="cmd" onclick="return valForm();" title="Search Record" />
                        </div>
                        <div class="clearfix"></div>
                        <div class="col-md-12 rqf" style="font-size:13px">Note : Kindly select search criteria & then click search button to show records.</div>
                    </fieldset>
                </div>
                <div class="clearfix"></div>
                <div class="col-md-12 text-right noprint">
                    <input type="button" value="Print" class="btn" onclick="myFunction()" />
                    <input type="button" value="Back" class="btn" onclick="history.go(-1);" />
                </div>
                <div class="clearfix"></div>
                <div class="col-md-12">
                    <table width="100%" border="1" class="kds-table">
                        <thead>
                            <tr>
                                <td colspan="2" style="border-right:0 !important;border-bottom:0 !important">&nbsp;<span class="kdsfont">Ó¨ÞÐ ÂØ ¨ë¸</span> : @ViewBag.SCHL</td>
                                <td colspan="5" rowspan="2" align="center" class="kdsfont" style="border-left:0 !important;border-right:0 !important;font-size:18px">
                                    <span style="font-size:28px">Æâ²ØÉ Ó¨ÞÐ ÚÓóÚª¤Ø ÉëÏ¸</span><br />
                                    @if (ViewBag.FormName.ToString() == "F1" || ViewBag.FormName.ToString() == "F2")
                                    {
                                        <span>
                                            Æâ²ÒÛ× ÓÖñã»Û Âã ÚÒÚÂ¤ØÏÁÛ¤Ù ÂÛ ÓÞ°Û(ÏÚ²Ó¶ÏãÓÖÅ /¨â¶ÛÚÅ¦Þ¥ãÓÖÅ) ÓèÓÖÅ
                                            Session 2023-2024 (Rough Print)
                                        </span>
                                    }
                                    @if (ViewBag.FormName.ToString() == "A1" || ViewBag.FormName.ToString() == "A2")
                                    {
                                        <span>
                                            ¤ó·ÒÛ× ÓÖñã»Û Âã ÚÒÚÂ¤ØÏÁÛ¤Ù ÂÛ ÓÞ°Û(ÏÚ²Ó¶ÏãÓÖÅ /¨â¶ÛÚÅ¦Þ¥ãÓÖÅ) ÓèÓÖÅ
                                            Session 2023-2024 (Rough Print)
                                        </span>
                                    }
                                </td>
                                <td colspan="2" style="border-left:0 !important;border-bottom:0 !important;text-align:right"><span class="kdsfont">ÚÆñâ¶ ¨ÏÅ ÂÛ ÚÌ¼Û</span> : @DateTime.Now.ToString("dd/MM/yyyy")</td>
                            </tr>
                            <tr>
                                <td colspan="2" style="border-right:0 !important;border-top:0 !important">&nbsp;<span class="kdsfont">ÔÅØª¼Û ÅâÉÏ</span> : @ViewBag.IDNO</td>
                                <td colspan="2" style="border-left:0 !important;border-top:0 !important;text-align:right"><span class="kdsfont">ÇØÏÌ Åâ</span> : @ViewBag.FormName.ToString() </td>
                            </tr>
                            <tr>
                                <td colspan="9" style="font-size:12px;padding:3px 0">&nbsp;<span class="kdsfont" style="font-size:22px;">Ó¨ÞÐ ÂØ ÅÙ/Ú²ÐðØ</span> : @ViewBag.SSE / <span class="kdsfont" style="font-size:22px;">@ViewBag.SSP</span></td>
                            </tr>
                            <tr style="background-color:#dfdfdf !important">
                                <td width="10%"><span class="kdsfont">Ð¾Û Åâ.</span></td>
                                <td width="33%" colspan="2"><span class="kdsfont">ÆñÛÚª¤ØÏÁÛ ÂØ ÅØÌ / ÚÆ¼Ø ÂØ ÅØÌ / ÌØ¼Ø ÂØ ÅØÌ</span></td>
                                <td width="7%"><span class="kdsfont">¤ÄØÏ Åâ.</span></td>
                                <td width="10%"><span class="kdsfont">²ÅÌ ÚÌ¼Û</span></td>
                                <td width="10%"><span class="kdsfont">²Ø¼Û  ÌØ¼Ï ÊØÓÖØ</span></td>
                                <td width="10%"><span class="kdsfont">ÉÛ.ÆÛ.¤èóÐ.</span></td>
                                <td width="8%"><span class="kdsfont">ÚÐâ¬</span></td>
                                <td width="12%"><span class="kdsfont">¤è×¶ÏÛ | ¤Æ¸ã¶ ÂÛ ÚÌ¼Û</span></td>
                            </tr>
                            <tr style="background-color:#dfdfdf !important">
                                <td><span class="kdsfont">Ó¶Þ¸è×¶ ¤Ø¥Û.¸Û.</span></td>
                                <td colspan="2">Student Name / Father's Name / Mother's Name</td>
                                <td><span class="kdsfont">¥Û. Æâ²ØÉ ¤Ø¥Û. ¸Û.</span></td>
                                <td><span class="kdsfont">ÄÏÌ</span></td>
                                <td><span class="kdsfont">²Ø¼Û</span></td>
                                <td><span class="kdsfont">ÌëÉØ¥ÛÐ Åâ.</span></td>
                                <td><span class="kdsfont">ÚÒÐóª» ÓÌÏóÁØ (Æñ¼ÛÓÖ¼¼Ø)</span></td>
                                <td><span class="kdsfont">ÂØªÐØ Åâ. l ÂØªÐØ ÚÌ¼Û</span></td>
                            </tr>
                            <tr style="background-color:#dfdfdf !important">
                                <td><span class="kdsfont">ÏÚ². ÅâÖ.</span></td>
                                <td colspan="2"><span class="kdsfont">ÚÒÓÖã</span></td>
                                <td colspan="5"><span class="kdsfont">ÆñÛÚª¤ØÏÁÛ ÂØ ®Ï ÂØ Æ¼Ø</span></td>
                                <td><span class="kdsfont">ÏÚ². ÚÌ¼Û l ÐØ¶ Åâ.</span></td>
                            </tr>
                        </thead>
                        @{
                            if (ViewBag.TotalCount > 0)
                            {
                                int Count = 0;
                                for (int i = 0; i < Model.StoreAllData.Tables[0].Rows.Count; i++)
                                {
                                    var cat = Model.StoreAllData.Tables[0].Rows[i]["catg"].ToString();
                                    var cls = Model.StoreAllData.Tables[0].Rows[i]["Class"].ToString();
                                    var SCHl = Model.StoreAllData.Tables[0].Rows[i]["SCHL"].ToString();
                                    var IDNO = Model.StoreAllData.Tables[0].Rows[i]["IDNO"].ToString();
                                    var SCHlName = Model.StoreAllData.Tables[0].Rows[i]["SCHLE"].ToString();
                                    var REGNO = Model.StoreAllData.Tables[0].Rows[i]["Registration_Num"].ToString();
                                    var stdid = Model.StoreAllData.Tables[0].Rows[i]["std_id"].ToString();
                                    var Cname = Model.StoreAllData.Tables[0].Rows[i]["Candi_Name"].ToString();
                                    var CnameP = Model.StoreAllData.Tables[0].Rows[i]["Candi_Name_P"].ToString();
                                    var Fname = Model.StoreAllData.Tables[0].Rows[i]["Father_Name"].ToString();
                                    var FnameP = Model.StoreAllData.Tables[0].Rows[i]["Father_Name_P"].ToString();
                                    var Mname = Model.StoreAllData.Tables[0].Rows[i]["Mother_Name"].ToString();
                                    var MnameP = Model.StoreAllData.Tables[0].Rows[i]["Mother_Name_P"].ToString();
                                    var DOB = Model.StoreAllData.Tables[0].Rows[i]["DOB"].ToString();
                                    var LOT = Model.StoreAllData.Tables[0].Rows[i]["LOT"].ToString();
                                    var GEN = Model.StoreAllData.Tables[0].Rows[i]["gender"].ToString();
                                    var reli = Model.StoreAllData.Tables[0].Rows[i]["Religion"].ToString();
                                    var caste = Model.StoreAllData.Tables[0].Rows[i]["Caste"].ToString();

                                    var address = Model.StoreAllData.Tables[0].Rows[i]["Address"].ToString();
                                    var mob = Model.StoreAllData.Tables[0].Rows[i]["Mobile"].ToString();
                                    var aadhar = Model.StoreAllData.Tables[0].Rows[i]["Aadhar_num"].ToString();
                                    var StdPhoto = Model.StoreAllData.Tables[0].Rows[i]["CandPhoto"].ToString();
                                    var stdSign = Model.StoreAllData.Tables[0].Rows[i]["CandSign"].ToString();
                                    var NamDetailsE = Model.StoreAllData.Tables[0].Rows[i]["NamDetailsE"].ToString();
                                    var NamDetailsP = Model.StoreAllData.Tables[0].Rows[i]["NamDetailsP"].ToString();
                                    var CurrentClassDetails = Model.StoreAllData.Tables[0].Rows[i]["CurrentClassDetails"].ToString();

                                    var BPL = Model.StoreAllData.Tables[0].Rows[i]["Belongs_BPL"].ToString();
                                    var Epunid = Model.StoreAllData.Tables[0].Rows[i]["E_punjab_Std_id"].ToString();
                                    var DA = Model.StoreAllData.Tables[0].Rows[i]["Differently_Abled"].ToString();
                                    var DP = Model.StoreAllData.Tables[0].Rows[i]["DP"].ToString();
                                    var WW = Model.StoreAllData.Tables[0].Rows[i]["wantwriter"].ToString();

                                    var BoardRoll = Model.StoreAllData.Tables[0].Rows[i]["Board_Roll_Num"].ToString();
                                    var Mon = Model.StoreAllData.Tables[0].Rows[i]["Month"].ToString();
                                    var Year = Model.StoreAllData.Tables[0].Rows[i]["Year"].ToString();
                                    var PersonalInformation = Model.StoreAllData.Tables[0].Rows[i]["PersonalInformation1"].ToString();
                                    var PI = PersonalInformation.Replace("/", " : ");
                                    var admdate = Model.StoreAllData.Tables[0].Rows[i]["Admission_Date"].ToString();
                                    var lot = Model.StoreAllData.Tables[0].Rows[i]["lot"].ToString();
                                    var PrevClassInfo = Model.StoreAllData.Tables[0].Rows[i]["PreviousClassInformation"].ToString();
                                    var PCI = PrevClassInfo.Replace("/", ":");
                                    var FullAddress = Model.StoreAllData.Tables[0].Rows[i]["Address"].ToString();
                                    var SubjectList = Model.StoreAllData.Tables[0].Rows[i]["SubjectList"].ToString();
                                    var Roll = Model.StoreAllData.Tables[0].Rows[i]["Class_Roll_Num_Section"].ToString();
                                    var sec = Model.StoreAllData.Tables[0].Rows[i]["Section"].ToString();
                                    var EpunjabStdid = Model.StoreAllData.Tables[0].Rows[i]["E_punjab_Std_id"].ToString();

                                    var AWREGNO = Model.StoreAllData.Tables[0].Rows[i]["AWRegisterNo"].ToString();
                                    var AdmissionNo = Model.StoreAllData.Tables[0].Rows[i]["Admission_Num"].ToString();
                                    var AdmissionDate = Model.StoreAllData.Tables[0].Rows[i]["Admission_Date"].ToString();

                                    var MotherTongue = Model.StoreAllData.Tables[0].Rows[i]["MotherTongue"].ToString();
                                    var stydyMedium = Model.StoreAllData.Tables[0].Rows[i]["CandStudyMedium"].ToString();
                                    var IsHardCopyCertificate = Model.StoreAllData.Tables[0].Rows[i]["IsHardCopyCertificate"].ToString();
                                    var NSQF = Model.StoreAllData.Tables[0].Rows[i]["NSQF_SUB"].ToString();
                                    var cd = Model.StoreAllData.Tables[0].Rows[i]["CreatedDate"].ToString();
                                    var ud = Model.StoreAllData.Tables[0].Rows[i]["UpdatedDate"].ToString();
                                    var MD = Model.StoreAllData.Tables[0].Rows[i]["MatricDetails"].ToString();
                                    var GroupName = Model.StoreAllData.Tables[0].Rows[i]["GroupName"].ToString();
                                    var Sublist = Model.StoreAllData.Tables[0].Rows[i]["SubjectList"].ToString();
                                    Count = i + 1;
                                                <tbody>
                                                    <tr>
                                                        <td>@Count</td>
                                                        <td colspan="2"><span class="kdsfont">@NamDetailsP</span></td>
                                                        <td>@aadhar</td>
                                                        <td>@DOB</td>
                                                        <td>@MotherTongue</td>
                                                        <td>@BPL</td>
                                                        <td>@GEN</td>
                                                        <td>@cd | @ud</td>
                                                    </tr>
                                                    <tr>
                                                        <td>@stdid</td>
                                                        <td colspan="2">@NamDetailsE</td>
                                                        <td>@EpunjabStdid</td>
                                                        <td>@reli</td>
                                                        <td>@caste</td>
                                                        <td>@mob</td>
                                                        <td>@DA @if (DA != "N.A."){<span>(@DP%)</span>}
                                                        </td>
                                                        <td>@AdmissionNo / @admdate</td>
                                                    </tr>
                                                    <tr>
                                                        <td>@REGNO</td>
                                                        <td colspan="2">@Sublist</td>
                                                        <td colspan="5" class="kds-stext">@address (@mob)</td>
                                                        <td> | @LOT</td>
                                                    </tr>
                                                </tbody>
                                }
                            }
                            else
                            {
                                <tr>
                                    <td colspan="9">
                                        @ViewBag.Message
                                    </td>
                                </tr>

                            }
                        }

                    </table>
                    <input type="hidden" name="PrintHtml" />
                    <div id="dvPrint">

                    </div>
                </div>
            </div>
            }

            <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
            <script type="text/javascript">
                $(function () {
                    $("#btnPDF").click(function () {
                        $("input[name='PrintHtml']").val($("#dvPrint").html());
                    });
                });
            </script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
            @*<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">*@
            <script src="//code.jquery.com/jquery-1.10.2.js"></script>
            <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
            <script src="~/Scripts/jquery-1.10.2.js"></script>

            <script type="text/javascript">
                $(document).ready(function () {
                    $("#SelectItem").change(function () {
                        var value = document.getElementById('SelectItem').value;
                        $('#SearchString').val('');
                        //alert(value);
                        if (value == "") {
                            // $("#reqsession").slideUp("slow");
                            //("#reqsession").slideDown("slow");
                            alert("Please Select One");
                            return false;
                        }
                        else if (value == 1) {
                            $("#SearchString").datepicker("disable");
                            document.getElementById('SearchString').disabled = true;

                        }
                        else if (value == 3 || value == 4 || value == 5 || value == 6) {
                            $("#SearchString").datepicker("disable");
                            document.getElementById('SearchString').disabled = false;
                            $("#SearchString").off('keypress');
                            $("#SearchString").keypress(function (evt) {
                                var keyCode = (evt.which) ? evt.which : evt.keyCode
                                if ((keyCode < 65 || keyCode > 90) && (keyCode < 97 || keyCode > 123) && keyCode != 32) {
                                    alert("Only Characters Allowed!!");
                                    return false;
                                }
                                else {
                                    return true;
                                }

                            });
                        }

                        else {
                            $("#SearchString").datepicker("disable");
                            document.getElementById('SearchString').disabled = false;
                            $("#SearchString").off('keypress');
                        }

                    });
                });
            </script>


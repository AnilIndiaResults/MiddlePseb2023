
@model PsebJunior.Models.RegistrationModels
@{
    ViewBag.Title = "StudentVerificationForm";
    Layout = "~/Views/Shared/_Card_Header.cshtml";
}
<link rel="stylesheet" href="https://registration.pseb.ac.in/Content/print-4P.css" />
<style type="text/css">
    body {
        font-size: 11px
    }

    td {
        padding-left: 4px
    }
</style>
<script>
    function myFunction() {
        window.print();
    }
</script>
<h1 class="noprint">
    Student Verification Form : Session 2023-2024
</h1>

@{

    if (Session["LoginSession"] != null)
    {
        PsebJunior.Models.LoginSession loginSession = (PsebJunior.Models.LoginSession)Session["LoginSession"];

        using (Html.BeginForm("StudentVerificationFormJunior", "RegistrationPortal", FormMethod.Post, new { id = "searchform" }))
        {
            @*<iframe id="iframeConsumptionReport" width="100%" height="500"  src="~/StudentVerificationForm.aspx" style=" border:none; padding:0; margin:0;"></iframe>*@
            @*<div class="row">
                    <div class="col-md-12 noprint">
                        <p style="font-size:24px;color:#cc0000;text-align:center;padding-top:80px">Will Be avlible soon</p>
                    </div>
                </div>*@
            <div class="row">
                <div class="col-md-12 noprint">
                    <fieldset style="margin-bottom:15px">
                        <legend>Search</legend>
                        <div class="col-md-3">
                            Search By:  @Html.DropDownList("SelList", new SelectList(ViewBag.MySch, "Value", "Text", ViewBag.SelectedItem), "--Select---", new { @class = "", id = "SelectItem" })
                            <span id="reqsession" style="color:red;display:none;">Select One</span>
                        </div>
                        <div class="col-md-7">
                            &nbsp;<br />
                            <input type="text" id="SearchString" name="SearchString" value="@Request["SearchString"]" />
                        </div>
                        <div class="col-md-2">&nbsp;<br /><input type="submit" value="Search" name="cmd" onclick="return valForm();" title="Search Record" /></div>
                        <div class="clearfix"></div>
                        <div class="col-md-12 rqf" style="font-size:13px">Note : Kindly select search criteria & then click search button to show records.</div>
                    </fieldset>
                </div>
                <div class="clearfix"></div>
                <div class="col-md-12 text-right noprint">
                    <input type="button" value="Print" class="btn" onclick="myFunction()" />
                    <input type="button" value="Back" class="btn" onclick="history.go(-1);" />
                </div>
                <div class="clearfix"></div>
                <div class="col-md-12">
                    <table style="width:100%;" border="0">
                        @{
                            if (ViewBag.TotalCount > 0)
                            {
                                int Count = 0;
                                for (int i = 0; i < Model.StoreAllData.Tables[0].Rows.Count; i++)
                                {
                                    var cls = Model.StoreAllData.Tables[0].Rows[i]["Class"].ToString();
                                    var SCHl = Model.StoreAllData.Tables[0].Rows[i]["SCHL"].ToString();
                                    var SCHlName = Model.StoreAllData.Tables[0].Rows[i]["SCHLE"].ToString();
                                    var REGNO = Model.StoreAllData.Tables[0].Rows[i]["Registration_Num"].ToString();
                                    var stdid = Model.StoreAllData.Tables[0].Rows[i]["std_id"].ToString();
                                    var Cname = Model.StoreAllData.Tables[0].Rows[i]["Candi_Name"].ToString();
                                    var CnameP = Model.StoreAllData.Tables[0].Rows[i]["Candi_Name_P"].ToString();
                                    var Fname = Model.StoreAllData.Tables[0].Rows[i]["Father_Name"].ToString();
                                    var FnameP = Model.StoreAllData.Tables[0].Rows[i]["Father_Name_P"].ToString();
                                    var Mname = Model.StoreAllData.Tables[0].Rows[i]["Mother_Name"].ToString();
                                    var MnameP = Model.StoreAllData.Tables[0].Rows[i]["Mother_Name_P"].ToString();
                                    var DOB = Model.StoreAllData.Tables[0].Rows[i]["DOB"].ToString();
                                    var LOT = Model.StoreAllData.Tables[0].Rows[i]["LOT"].ToString();
                                    var GEN = Model.StoreAllData.Tables[0].Rows[i]["gender"].ToString();
                                    var reli = Model.StoreAllData.Tables[0].Rows[i]["Religion"].ToString();
                                    var caste = Model.StoreAllData.Tables[0].Rows[i]["Caste"].ToString();

                                    var address = Model.StoreAllData.Tables[0].Rows[i]["Address"].ToString();
                                    var mob = Model.StoreAllData.Tables[0].Rows[i]["Mobile"].ToString();
                                    var aadhar = Model.StoreAllData.Tables[0].Rows[i]["Aadhar_num"].ToString();
                                    var StdPhoto = Model.StoreAllData.Tables[0].Rows[i]["CandPhoto"].ToString();
                                    var stdSign = Model.StoreAllData.Tables[0].Rows[i]["CandSign"].ToString();

                                    var Roll = Model.StoreAllData.Tables[0].Rows[i]["Class_Roll_Num_Section"].ToString();
                                    var sec = Model.StoreAllData.Tables[0].Rows[i]["Section"].ToString();
                                    var EpunjabStdid = Model.StoreAllData.Tables[0].Rows[i]["E_punjab_Std_id"].ToString();
                                    var PrevClassInfo = Model.StoreAllData.Tables[0].Rows[i]["PreviousClassInformation"].ToString();
                                    var PCI = PrevClassInfo.Replace("/", ":");
                                    var DA = Model.StoreAllData.Tables[0].Rows[i]["Differently_Abled"].ToString();
                                    var DP = Model.StoreAllData.Tables[0].Rows[i]["DP"].ToString();
                                    var WW = Model.StoreAllData.Tables[0].Rows[i]["wantwriter"].ToString();
                                    var MotherTongue = Model.StoreAllData.Tables[0].Rows[i]["MotherTongue"].ToString();
                                    var IsHardCopyCertificate = Model.StoreAllData.Tables[0].Rows[i]["IsHardCopyCertificate"].ToString();
                                    var stydyMedium = Model.StoreAllData.Tables[0].Rows[i]["CandStudyMedium"].ToString();
                                    var NSQF = Model.StoreAllData.Tables[0].Rows[i]["NSQF_SUB"].ToString();
                                    var BPL = Model.StoreAllData.Tables[0].Rows[i]["Belongs_BPL"].ToString();
                                    var GroupName = Model.StoreAllData.Tables[0].Rows[i]["GroupName"].ToString();
                                    var Sublist = Model.StoreAllData.Tables[0].Rows[i]["SubjectList"].ToString();

                                    Count = i + 1;
                                    <table style="width:100%;margin-bottom:8px" border="1">
                                        <tr>
                                            <td colspan="8" style="font-size:13px;text-align:center;line-height:20px;vertical-align:top;padding-top:6px">
                                                <span style="font-size:26px">PUNJAB SCHOOL EDUCATION BOARD</span><br />
                                                <span>Students Detail Verification From Parents/Guardian Form (For School Record Only) Session 2023-2024</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>School Code/Name</td>
                                            <td colspan="7">@SCHl : @loginSession.SCHLNME</td>
                                        </tr>
                                        <tr>
                                            <td>Class / Form</td>
                                            <td>@cls / @ViewBag.FormName</td>
                                            <td>Student ID</td>
                                            <td>@stdid</td>
                                            <td>Aadhar No.</td>
                                            <td>@aadhar</td>
                                            <td>E-Punjab ID</td>
                                            <td>@EpunjabStdid</td>
                                        </tr>
                                        <tr>
                                            <td>Candidate Name</td>
                                            <td colspan="7">@Cname / <span class="kdsfont"> @CnameP</span></td>
                                        </tr>
                                        <tr>
                                            <td>Father's Name</td>
                                            <td colspan="7">@Fname / <span class="kdsfont"> @FnameP</span></td>
                                        </tr>
                                        <tr>
                                            <td>Mother's Name</td>
                                            <td colspan="7">@Mname / <span class="kdsfont"> @MnameP</span></td>
                                        </tr>
                                        <tr>
                                            <td>Date of Birth</td>
                                            <td>@DOB</td>
                                            <td>Gender</td>
                                            <td>@GEN</td>
                                            <td>Caste</td>
                                            <td>@caste</td>
                                            <td>Religion</td>
                                            <td>@reli</td>
                                        </tr>
                                        <tr>
                                            <td>Mother Tongue</td>
                                            <td>@MotherTongue</td>
                                            <td>Mobile No.</td>
                                            <td>@mob</td>
                                            <td>Differently Abled</td>
                                            <td>@DA  @if (DA != "N.A.")
                                            {<span>(@DP%)</span>}</td>
                                            <td>BPL</td>
                                            <td>@BPL</td>
                                        </tr>
                                        <tr>
                                            <td style="vertical-align:top">Address</td>
                                            <td colspan="7" style="vertical-align:top;height:35px">@address</td>
                                        </tr>
                                        <tr>
                                            <td>Subject's</td>
                                            <td colspan="7">@Sublist</td>
                                        </tr>
                                        <tr>
                                            <td colspan="8" style="line-height:14px"><b>Declaration : I</b>  …………………………………………. the............................................... (Relation with candidate)  of <b>@Cname</b> that the above candidate's particular & other information is checked by me and found correct as per my knowledge. <span class="kdsfont">Ìè× ¦ÝóÆÏ ÚÂó¼ã ÆñÛÚª¤ØÏÁÛ Âã ÒãÏÒã °èó¨ ¨Ï Ð¥ã ÕÅ ¤¼ã Ú¥Õ ÌãÏÛ ²Ø»¨ØÏÛ/ÓÌ´ ÌÝ¼ØÉ¨ ÚÉÐ¨ÝóÐ ÓÕÛ ÕÅ¢</span></td>
                                        </tr>
                                        <tr>
                                            <td colspan="8" style="vertical-align:top">
                                                <br />
                                                <span style="float:left;width:32%">Date :@DateTime.Now.ToString("dd/MM/yyyy")</span>
                                                <span style="float:left;width:32%">Signature Of Candidate</span>
                                                <span style="float:left;width:32%">Signature Of the Parent/Guardian</span>
                                            </td>
                                        </tr>
                                    </table>
                                }
                            }
                            else
                            {
                                <tr>
                                    <td colspan="8">
                                        @ViewBag.Message
                                    </td>
                                </tr>
                            }
                        }

                    </table>
                </div>
            </div>
        }
    }
}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
@*<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">*@
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script src="~/Scripts/jquery-1.10.2.js"></script>

<script type="text/javascript">

    $(document).ready(function () {
        $("#SelectItem").change(function () {
            var value = document.getElementById('SelectItem').value;
            $('#SearchString').val('');
            //alert(value);
            if (value == "") {
                // $("#reqsession").slideUp("slow");
                //("#reqsession").slideDown("slow");
                alert("Please Select One");
                return false;
            }
            else if (value == 1) {
                $("#SearchString").datepicker("disable");
                document.getElementById('SearchString').disabled = true;

            }
            else if (value == 3 || value == 4 || value == 5 || value == 6) {
                $("#SearchString").datepicker("disable");
                document.getElementById('SearchString').disabled = false;
                $("#SearchString").off('keypress');
                $("#SearchString").keypress(function (evt) {
                    var keyCode = (evt.which) ? evt.which : evt.keyCode
                    if ((keyCode < 65 || keyCode > 90) && (keyCode < 97 || keyCode > 123) && keyCode != 32) {
                        alert("Only Characters Allowed!!");
                        return false;
                    }
                    else {
                        return true;
                    }

                });
            }

            else {
                $("#SearchString").datepicker("disable");
                document.getElementById('SearchString').disabled = false;
                $("#SearchString").off('keypress');
            }

        });
    });
</script>
